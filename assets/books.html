{% extends 'dashboard.html' %}
{% block content %}

<head>
  <link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700,800,900" rel="stylesheet">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="css/style.css">
  <style>
    .gradient {
      background-image: linear-gradient(to right, #754edd, #e2114f);
    }
  </style>

  <script src="js/jquery.min.js"></script>
  <script src="js/popper.js"></script>
  <script src="js/bootstrap.min.js"></script>
  <script src="js/main.js"></script>
</head>


<div class="col-sm-12 col-xs-12 col-md-12 col-lg-12 col-xl-12">
  <div class="card gradient">
    <div class="row">
      <div class="col-6 col-xs-12">
        <h3 class="p-0 m-1 ml-4 text-white">Books</h3>
      </div>
      <div class="col-6 col-xs-12">
        <button class="btn btn-primary float-right mt-1 p-2 mr-1" data-toggle="modal" data-target="#import-books"><i
            class="fa fa-download" aria-hidden="true"></i>&nbsp Import Books</button>
      </div>
    </div>
  </div>

  <br /><br />

  <div class="row">
    <div class="col-md-12 col-xl-12 col-lg-12">
      <table class="table table-bordered table-striped table-hover">

        <thead class="table-dark gradient text-nowrap">

          <tr>

            <th>Book ID</th>
            <th>Book Title</th>
            <th>Author</th>
            <th>Rating</th>
            <th>Language</th>
            <th>Publication Date</th>
            <th>Publisher</th>
            <th>Stock</th>
            <th>Update</th>
            <th>Delete</th>


          </tr>

        </thead>

        <tbody class="text-center">

          {% for x in testquery%}
          <tr>

            <th scope="row">{{ x['bookID']}}</th>
            <td>{{ x['title']}}</td>
            <td>{{ x['authors']}}</td>
            <td>{{ x['average_rating']}}</td>
            <td>{{ x['language_code']}}</td>
            <td>{{ x['publication_date']}}</td>
            <td>{{ x['publisher']}}</td>
            <td>{{ x['isbn']}}</td>
            <td><button class="btn btn-success rounded-lg" data-toggle="modal" data-target="#update-book"><i
                  class="fa fa-pencil-square-o" aria-hidden="true"></i></button></td>
            <td><button class="btn btn-danger rounded-lg" data-toggle="modal" data-target="#delete-book"><i
                  class="fa fa-trash" aria-hidden="true"></i></button></td>
          </tr>
          {% endfor %}

        </tbody>

      </table>

      <!-- Import Modal -->

      <div class="modal fade" id="import-books" tabindex="-1" role="dialog">
        <div class="modal-dialog modal-dialog-centered" role="document">
          <div class="modal-content">
            <div class="modal-header gradient">
              <h5 class="modal-title text-white">Import Books</h5>
              <button type="button" class="close text-white" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>

            <form method="POST" action="{{url_for('admin.import_books')}}">
              <div class="modal-body">

                <div class="form-group">
                  <label for="noofbooks">Number of Books <span style="color:red;">*</span></label>
                  <input type="number" name="noofbooks" class="form-control border border-primary" id="noofbooks"
                    min="1" required>
                </div>

                <div class="form-group">
                  <span>Import Books Using â†“</span>
                </div>

                <div class="form-group">
                  <input type="text" name="title" class="form-control border border-primary" id="title"
                    placeholder="Book Title">
                </div>

                <div class="form-group">
                  <input type="text" name="author" class="form-control border border-primary" id="author"
                    placeholder="Author">
                </div>

                <div class="form-group">
                  <input type="text" name="isbn" class="form-control border border-primary" id="isbn"
                    placeholder="ISBN">
                </div>

                <div class="form-group">
                  <input type="text" name="publisher" class="form-control border border-primary" id="publisher"
                    placeholder="Publisher">
                </div>

              </div>

              <div class="modal-footer">
                <button type="reset" class="btn btn-danger">Reset</button>
                <button type="button" class="btn btn-primary">Save changes</button>
              </div>
            </form>
          </div>
        </div>
      </div>

      <!-- Import Modal End -->

      <!-- Delete Modal -->

      <div class="modal fade" id="delete-book" tabindex="-1" role="dialog">
        <div class="modal-dialog modal-dialog-centered" role="document">
          <div class="modal-content">
            <div class="modal-header gradient">
              <h5 class="modal-title text-white">Delete Confirmation!</h5>
              <button type="button" class="close text-white" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>

            <form method="POST" action="">
              <div class="modal-body">
                <div class="row">
                  <div class="col-12">
                    <h5 class="danger" style="color:red;">Are you sure you want to delete this book?</h5>
                  </div>
                </div>
              </div>

              <div class="modal-footer">
                <button type="button" class="btn btn-primary">No</button>
                <button type="button" class="btn btn-danger">Yes</button>
              </div>

            </form>
          </div>
        </div>
      </div>

      <!-- Delete Modal End -->


      <!-- Update Modal -->

      <div class="modal fade" id="update-book" tabindex="-1" role="dialog">
        <div class="modal-dialog modal-dialog-centered" role="document">
          <div class="modal-content">
            <div class="modal-header gradient">
              <h5 class="modal-title text-white">Update Book Details</h5>
              <button type="button" class="close text-white" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>

            <form method="POST" action="{">
              <div class="modal-body">

                <div class="form-group">
                  <div class="row">
                    <div class="col-md-4 col-sm-12">
                      <label for="bookid">Book ID</label>
                    </div>
                    <div class="col-md-8 col-sm-12">
                      <input type="number" name="bookid" class="form-control border border-primary" id="bookid"
                        readonly>
                    </div>
                  </div>
                </div>

                <div class="form-group">
                  <div class="row">
                    <div class="col-md-4 col-sm-12">
                      <label for="bookname">Name of Book</label>
                    </div>
                    <div class="col-md-8 col-sm-12">
                      <input type="text" name="bookname" class="form-control border border-primary" id="bookname">
                    </div>
                  </div>
                </div>

                <div class="form-group">
                  <div class="row">
                    <div class="col-md-4 col-sm-12">
                      <label for="author">Author</label>
                    </div>
                    <div class="col-md-8 col-sm-12">
                      <input type="text" name="author" class="form-control border border-primary" id="author">
                    </div>
                  </div>
                </div>

                <div class="form-group">
                  <div class="row">
                    <div class="col-md-4 col-sm-12">
                      <label for="rating">Average Rating</label>
                    </div>
                    <div class="col-md-8 col-sm-12">
                      <input type="number" name="rating" class="form-control border border-primary" id="rating">
                    </div>
                  </div>
                </div>

                <div class="form-group">
                  <div class="row">
                    <div class="col-md-4 col-sm-12">
                      <label for="isbn">ISBN</label>
                    </div>
                    <div class="col-md-8 col-sm-12">
                      <input type="number" name="isbn" class="form-control border border-primary" id="isbn">
                    </div>
                  </div>
                </div>

                <div class="form-group">
                  <div class="row">
                    <div class="col-md-4 col-sm-12">
                      <label for="isbn13">ISBN 13</label>
                    </div>
                    <div class="col-md-8 col-sm-12">
                      <input type="number" name="isbn13" class="form-control border border-primary" id="isbn13">
                    </div>
                  </div>
                </div>

                <div class="form-group">
                  <div class="row">
                    <div class="col-md-4 col-sm-12">
                      <label for="langcode">Language Code</label>
                    </div>
                    <div class="col-md-8 col-sm-12">
                      <input type="text" name="langcode" class="form-control border border-primary" id="langcode">
                    </div>
                  </div>
                </div>

                <div class="form-group">
                  <div class="row">
                    <div class="col-md-4 col-sm-12">
                      <label for="noofpage">No. of pages</label>
                    </div>
                    <div class="col-md-8 col-sm-12">
                      <input type="number" name="pagecount" class="form-control border border-primary" id="noofpage">
                    </div>
                  </div>
                </div>

                <div class="form-group">
                  <div class="row">
                    <div class="col-md-4 col-sm-12">
                      <label for="ratingcount">Ratings Count</label>
                    </div>
                    <div class="col-md-8 col-sm-12">
                      <input type="number" name="ratingcount" class="form-control border border-primary"
                        id="ratingcount">
                    </div>
                  </div>
                </div>

                <div class="form-group">
                  <div class="row">
                    <div class="col-md-4 col-sm-12">
                      <label for="trcount">Text Review Count</label>
                    </div>
                    <div class="col-md-8 col-sm-12">
                      <input type="number" name="trcount" class="form-control border border-primary" id="trcount">
                    </div>
                  </div>
                </div>

                <div class="form-group">
                  <div class="row">
                    <div class="col-md-4 col-sm-12">
                      <label for="pubdate">Publication Date</label>
                    </div>
                    <div class="col-md-8 col-sm-12">
                      <input type="date" name="pubdate" class="form-control border border-primary" id="pubdate">
                    </div>
                  </div>
                </div>

                <div class="form-group">
                  <div class="row">
                    <div class="col-md-4 col-sm-12">
                      <label for="publisher">publisher</label>
                    </div>
                    <div class="col-md-8 col-sm-12">
                      <input type="text" name="publisher" class="form-control border border-primary" id="publisher">
                    </div>
                  </div>
                </div>



              </div>

              <div class="modal-footer">
                <button type="reset" class="btn btn-danger">Reset</button>
                <button type="button" class="btn btn-primary">Save changes</button>
              </div>
            </form>
          </div>
        </div>
      </div>

      <!-- Update Modal End -->

    </div>
  </div>

  <!-- <p>{{testquery}}</p> -->


</div>



{% endblock %}